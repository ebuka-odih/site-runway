import{a as p,r as b,u as c,j as e}from"./app-B0J5p2_Z.js";import{A as u}from"./AdminLayout-B4GwCGzr.js";import{a as i}from"./adminPath-BxB_o4uP.js";/* empty css            */function v({settings:r}){const{url:l}=p(),[o,x]=b.useState("site"),s=c({site_mode:r.site_mode,deposits_enabled:!!r.deposits_enabled,withdrawals_enabled:!!r.withdrawals_enabled,require_kyc_for_deposits:!!r.require_kyc_for_deposits,require_kyc_for_withdrawals:!!r.require_kyc_for_withdrawals,session_timeout_minutes:Number(r.session_timeout_minutes),support_email:r.support_email,livechat_enabled:!!r.livechat_enabled,livechat_provider:r.livechat_provider||"",livechat_embed_code:r.livechat_embed_code||""}),a=c({current_password:"",new_password:"",new_password_confirmation:""}),d=t=>{t.preventDefault(),s.post(i(l,"settings"))},m=t=>{t.preventDefault(),a.post(i(l,"settings/security"),{preserveScroll:!0,onSuccess:()=>{a.reset()}})};return e.jsx(u,{title:"Settings",children:e.jsxs("section",{className:"max-w-5xl rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Admin Settings"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Manage site controls, security, and support tooling from one place."}),e.jsx("div",{className:"mt-5 flex flex-wrap gap-2",children:[{key:"site",label:"Site Controls"},{key:"livechat",label:"Live Chat"},{key:"security",label:"Security"},{key:"exports",label:"Exports"}].map(t=>e.jsx("button",{type:"button",onClick:()=>x(t.key),className:`rounded-full border px-4 py-2 text-xs font-semibold uppercase tracking-widest transition ${o===t.key?"border-cyan-500/60 bg-cyan-500/10 text-cyan-100":"border-slate-700 text-slate-300 hover:border-slate-500"}`,children:t.label},t.key))}),o==="site"&&e.jsxs("form",{onSubmit:d,className:"mt-6 space-y-5",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Site Mode"}),e.jsxs("select",{value:s.data.site_mode,onChange:t=>s.setData("site_mode",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",children:[e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]}),s.errors.site_mode&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.site_mode})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Support Email"}),e.jsx("input",{type:"email",value:s.data.support_email,onChange:t=>s.setData("support_email",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),s.errors.support_email&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.support_email})]})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",min:"5",max:"240",value:s.data.session_timeout_minutes,onChange:t=>s.setData("session_timeout_minutes",Number(t.target.value)),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),s.errors.session_timeout_minutes&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.session_timeout_minutes})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(n,{label:"Enable Deposits",checked:s.data.deposits_enabled,onChange:t=>s.setData("deposits_enabled",t)}),e.jsx(n,{label:"Enable Withdrawals",checked:s.data.withdrawals_enabled,onChange:t=>s.setData("withdrawals_enabled",t)}),e.jsx(n,{label:"Require KYC on Deposits",checked:s.data.require_kyc_for_deposits,onChange:t=>s.setData("require_kyc_for_deposits",t)}),e.jsx(n,{label:"Require KYC on Withdrawals",checked:s.data.require_kyc_for_withdrawals,onChange:t=>s.setData("require_kyc_for_withdrawals",t)})]}),(s.errors.deposits_enabled||s.errors.withdrawals_enabled||s.errors.require_kyc_for_deposits||s.errors.require_kyc_for_withdrawals)&&e.jsx("p",{className:"text-xs text-rose-300",children:s.errors.deposits_enabled||s.errors.withdrawals_enabled||s.errors.require_kyc_for_deposits||s.errors.require_kyc_for_withdrawals}),e.jsx("button",{type:"submit",disabled:s.processing,className:"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-5 py-2.5 text-sm font-semibold text-slate-950 transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:s.processing?"Saving...":"Save Site Settings"})]}),o==="livechat"&&e.jsxs("form",{onSubmit:d,className:"mt-6 space-y-5",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Livechat embeds appear on the public landing page and inside the user dashboard support view."}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:e.jsx(n,{label:"Enable Livechat",checked:s.data.livechat_enabled,onChange:t=>s.setData("livechat_enabled",t)})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Livechat Provider"}),e.jsx("input",{type:"text",value:s.data.livechat_provider,onChange:t=>s.setData("livechat_provider",t.target.value),placeholder:"tawk.to, intercom, crisp",className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400"}),s.errors.livechat_provider&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.livechat_provider})]})}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Livechat Embed Code"}),e.jsx("textarea",{value:s.data.livechat_embed_code,onChange:t=>s.setData("livechat_embed_code",t.target.value),placeholder:"Paste your livechat script or HTML embed code here",rows:8,className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-xs text-slate-100 outline-none transition focus:border-cyan-400"}),s.errors.livechat_embed_code&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.livechat_embed_code})]}),s.errors.livechat_enabled&&e.jsx("p",{className:"text-xs text-rose-300",children:s.errors.livechat_enabled}),e.jsx("button",{type:"submit",disabled:s.processing,className:"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-5 py-2.5 text-sm font-semibold text-slate-950 transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:s.processing?"Saving...":"Save Livechat Settings"})]}),o==="security"&&e.jsxs("form",{onSubmit:m,className:"mt-6 space-y-5 max-w-xl",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Current Password"}),e.jsx("input",{type:"password",value:a.data.current_password,onChange:t=>a.setData("current_password",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),a.errors.current_password&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.current_password})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"New Password"}),e.jsx("input",{type:"password",value:a.data.new_password,onChange:t=>a.setData("new_password",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),a.errors.new_password&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.new_password})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:a.data.new_password_confirmation,onChange:t=>a.setData("new_password_confirmation",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),a.errors.new_password_confirmation&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.new_password_confirmation})]}),e.jsx("button",{type:"submit",disabled:a.processing,className:"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-5 py-2.5 text-sm font-semibold text-slate-950 transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:a.processing?"Updating...":"Update Password"})]}),o==="exports"&&e.jsxs("div",{className:"mt-6 max-w-3xl",children:[e.jsx("h3",{className:"text-base font-semibold text-slate-100",children:"Database Export"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Export the full site database (all tables and rows) to a local NDJSON snapshot for backup or audit use."}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:i(l,"settings/export/database"),className:"inline-flex rounded-xl border border-cyan-500/60 bg-cyan-500/10 px-5 py-2.5 text-sm font-semibold text-cyan-200 transition hover:bg-cyan-500/20",children:"Export Full Site Database"})})]})]})})}function n({label:r,checked:l,onChange:o}){return e.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-700 bg-slate-950/70 px-4 py-3 text-sm text-slate-200",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:`relative h-6 w-11 rounded-full transition ${l?"bg-emerald-500":"bg-slate-700"}`,children:e.jsx("span",{className:`absolute top-0.5 h-5 w-5 rounded-full bg-white transition ${l?"left-5":"left-0.5"}`})})]})}export{v as default};
