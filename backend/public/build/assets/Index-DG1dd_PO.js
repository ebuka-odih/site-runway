import{a as n,u as d,j as e}from"./app-BDBmib0F.js";import{A as c}from"./AdminLayout-hKBFfCwL.js";import{a as o}from"./adminPath-BxB_o4uP.js";/* empty css            */function p({settings:s}){const{url:l}=n(),a=d({site_mode:s.site_mode,deposits_enabled:!!s.deposits_enabled,withdrawals_enabled:!!s.withdrawals_enabled,require_kyc_for_withdrawals:!!s.require_kyc_for_withdrawals,session_timeout_minutes:Number(s.session_timeout_minutes),support_email:s.support_email,livechat_enabled:!!s.livechat_enabled,livechat_provider:s.livechat_provider||"",livechat_embed_code:s.livechat_embed_code||""}),i=t=>{t.preventDefault(),a.post(o(l,"settings"))};return e.jsxs(c,{title:"Settings",children:[e.jsxs("section",{className:"max-w-4xl rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Platform Controls"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"These settings are stored by the backend and applied to admin operations."}),e.jsxs("form",{onSubmit:i,className:"mt-5 space-y-5",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Site Mode"}),e.jsxs("select",{value:a.data.site_mode,onChange:t=>a.setData("site_mode",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",children:[e.jsx("option",{value:"live",children:"Live"}),e.jsx("option",{value:"maintenance",children:"Maintenance"})]}),a.errors.site_mode&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.site_mode})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Support Email"}),e.jsx("input",{type:"email",value:a.data.support_email,onChange:t=>a.setData("support_email",t.target.value),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),a.errors.support_email&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.support_email})]})]}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",min:"5",max:"240",value:a.data.session_timeout_minutes,onChange:t=>a.setData("session_timeout_minutes",Number(t.target.value)),className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",required:!0}),a.errors.session_timeout_minutes&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.session_timeout_minutes})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(r,{label:"Enable Deposits",checked:a.data.deposits_enabled,onChange:t=>a.setData("deposits_enabled",t)}),e.jsx(r,{label:"Enable Withdrawals",checked:a.data.withdrawals_enabled,onChange:t=>a.setData("withdrawals_enabled",t)}),e.jsx(r,{label:"Require KYC on Withdrawals",checked:a.data.require_kyc_for_withdrawals,onChange:t=>a.setData("require_kyc_for_withdrawals",t)}),e.jsx(r,{label:"Enable Livechat",checked:a.data.livechat_enabled,onChange:t=>a.setData("livechat_enabled",t)})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Livechat Provider"}),e.jsx("input",{type:"text",value:a.data.livechat_provider,onChange:t=>a.setData("livechat_provider",t.target.value),placeholder:"tawk.to, intercom, crisp",className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400"}),a.errors.livechat_provider&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.livechat_provider})]})}),e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Livechat Embed Code"}),e.jsx("textarea",{value:a.data.livechat_embed_code,onChange:t=>a.setData("livechat_embed_code",t.target.value),placeholder:"Paste your livechat script or HTML embed code here",rows:8,className:"w-full rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-xs text-slate-100 outline-none transition focus:border-cyan-400"}),a.errors.livechat_embed_code&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:a.errors.livechat_embed_code})]}),(a.errors.deposits_enabled||a.errors.withdrawals_enabled||a.errors.require_kyc_for_withdrawals||a.errors.livechat_enabled)&&e.jsx("p",{className:"text-xs text-rose-300",children:a.errors.deposits_enabled||a.errors.withdrawals_enabled||a.errors.require_kyc_for_withdrawals||a.errors.livechat_enabled}),e.jsx("button",{type:"submit",disabled:a.processing,className:"rounded-xl bg-gradient-to-r from-cyan-500 to-emerald-500 px-5 py-2.5 text-sm font-semibold text-slate-950 transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:a.processing?"Saving...":"Save Settings"})]})]}),e.jsxs("section",{className:"mt-6 max-w-4xl rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Database Export"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Export the full site database (all tables and rows) to a local NDJSON snapshot for backup or audit use."}),e.jsx("div",{className:"mt-4",children:e.jsx("a",{href:o(l,"settings/export/database"),className:"inline-flex rounded-xl border border-cyan-500/60 bg-cyan-500/10 px-5 py-2.5 text-sm font-semibold text-cyan-200 transition hover:bg-cyan-500/20",children:"Export Full Site Database"})})]})]})}function r({label:s,checked:l,onChange:a}){return e.jsxs("label",{className:"flex items-center justify-between rounded-xl border border-slate-700 bg-slate-950/70 px-4 py-3 text-sm text-slate-200",children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",onClick:()=>a(!l),className:`relative h-6 w-11 rounded-full transition ${l?"bg-emerald-500":"bg-slate-700"}`,children:e.jsx("span",{className:`absolute top-0.5 h-5 w-5 rounded-full bg-white transition ${l?"left-5":"left-0.5"}`})})]})}export{p as default};
