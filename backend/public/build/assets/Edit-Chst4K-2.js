import{a as b,u as m,j as e}from"./app-DFxQHMpr.js";import{A as g}from"./AdminLayout-90YmbvVs.js";import h from"./UserForm-CGlrNAoP.js";import{a as o}from"./adminPath-BxB_o4uP.js";/* empty css            */const f=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(t||0));function k({user:t,options:n}){const{url:r}=b(),c=m({username:t.username||"",name:t.name||"",email:t.email||"",phone:t.phone||"",country:t.country||"",membership_tier:t.membership_tier||"free",kyc_status:t.kyc_status||"pending",timezone:t.timezone||"",password:"",password_confirmation:"",notification_email_alerts:!!t.notification_email_alerts,email_verified:!!t.email_verified,is_admin:!!t.is_admin}),s=m({target:"balance",operation:"fund",amount:"",notes:""}),x=a=>{a.preventDefault(),c.put(o(r,`users/${t.id}`))},u=a=>{a.preventDefault(),d("fund")},d=a=>{s.transform(p=>({...p,operation:a})).post(o(r,`users/${t.id}/fund`),{preserveScroll:!0,onSuccess:()=>s.reset("amount","notes")})};return e.jsx(g,{title:"Edit User",children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(h,{form:c,options:n,heading:`Edit ${t.name}`,description:"Update profile data, access level, and account state.",submitLabel:"Save Changes",onSubmit:x,cancelHref:o(r,"users"),showPasswordHelp:!0}),e.jsxs("section",{className:"max-w-4xl rounded-2xl border border-slate-800 bg-slate-900/70 p-6",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Fund Account"}),e.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Credit user balances directly from the admin panel."})]}),e.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[e.jsx(l,{label:"Balance",value:t.balance}),e.jsx(l,{label:"Profit Balance",value:t.profit_balance}),e.jsx(l,{label:"Holding Balance",value:t.holding_balance})]}),e.jsxs("form",{onSubmit:u,className:"mt-5 space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsxs("label",{className:"block",children:[e.jsxs("span",{className:"mb-2 block text-sm text-slate-300",children:["Fund Target ",e.jsx("span",{className:"text-rose-300",children:"*"})]}),e.jsxs("select",{value:s.data.target,onChange:a=>s.setData("target",a.target.value),className:i(s.errors.target),required:!0,children:[e.jsx("option",{value:"balance",children:"Balance"}),e.jsx("option",{value:"profit_balance",children:"Profit Balance"}),e.jsx("option",{value:"holding_balance",children:"Holding Balance"})]}),s.errors.target&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.target})]}),e.jsxs("label",{className:"block",children:[e.jsxs("span",{className:"mb-2 block text-sm text-slate-300",children:["Amount (USD) ",e.jsx("span",{className:"text-rose-300",children:"*"})]}),e.jsx("input",{type:"number",min:"0.01",step:"0.01",value:s.data.amount,onChange:a=>s.setData("amount",a.target.value),className:i(s.errors.amount),placeholder:"100.00",required:!0}),s.errors.amount&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.amount})]}),e.jsxs("label",{className:"block md:col-span-1",children:[e.jsx("span",{className:"mb-2 block text-sm text-slate-300",children:"Notes"}),e.jsx("input",{type:"text",value:s.data.notes,onChange:a=>s.setData("notes",a.target.value),className:i(s.errors.notes),placeholder:"Optional audit note"}),s.errors.notes&&e.jsx("span",{className:"mt-1 block text-xs text-rose-300",children:s.errors.notes})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"submit",disabled:s.processing,className:"rounded-xl bg-gradient-to-r from-amber-400 to-orange-500 px-5 py-2.5 text-sm font-semibold text-slate-950 transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:s.processing?"Processing...":"Fund Account"}),e.jsx("button",{type:"button",onClick:()=>d("deduct"),disabled:s.processing,className:"rounded-xl bg-gradient-to-r from-rose-500 to-red-600 px-5 py-2.5 text-sm font-semibold text-white transition hover:opacity-90 disabled:cursor-not-allowed disabled:opacity-60",children:s.processing?"Processing...":"Deduct"})]})]})]})]})})}function l({label:t,value:n}){return e.jsxs("article",{className:"rounded-xl border border-slate-700 bg-slate-950/70 p-3",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.15em] text-slate-400",children:t}),e.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-100",children:f(n)})]})}const i=t=>`w-full rounded-xl border px-3 py-2.5 text-sm outline-none transition ${t?"border-rose-500/60 bg-rose-500/10 text-rose-100 focus:border-rose-400":"border-slate-700 bg-slate-950 text-slate-100 focus:border-cyan-400"}`;export{k as default};
