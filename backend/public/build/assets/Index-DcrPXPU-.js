import{a as b,j as e,r as d,L as h}from"./app-BlzzLpTK.js";import{A as j}from"./AdminLayout-DarwUR99.js";import{a as v}from"./adminPath-BxB_o4uP.js";/* empty css            */const g=[{value:"all",label:"All statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],N=r=>r?new Date(r).toLocaleString():"-",f=r=>({drivers_license:"Driver License",international_passport:"International Passport",national_id_card:"National ID Card"})[r]||r||"-";function L({submissions:r,filters:l,stats:a}){const{url:c}=b(),n=Array.isArray(r?.data)?r.data:[],o=Array.isArray(r?.links)?r.links:[],x=l?.status||"all",p=t=>{d.get(v(c,"kyc"),{status:t,page:1},{preserveState:!1,replace:!0})},i=t=>{t?.can_approve&&window.confirm(`Approve KYC for ${t.user_name||"this user"}?`)&&d.post(t.approve_url,{},{preserveScroll:!0})},m=t=>{if(!t?.can_decline)return;const u=window.prompt("Optional decline reason to send to user:","")||"";window.confirm(`Decline KYC for ${t.user_name||"this user"}?`)&&d.post(t.decline_url,{review_notes:u.trim()||null},{preserveScroll:!0})};return e.jsxs(j,{title:"KYC Reviews",children:[e.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsx(s,{label:"Total",value:a.total}),e.jsx(s,{label:"Pending",value:a.pending}),e.jsx(s,{label:"Approved",value:a.approved}),e.jsx(s,{label:"Rejected",value:a.rejected})]}),e.jsxs("section",{className:"mt-6 rounded-2xl border border-slate-800 bg-slate-900/70 p-4 sm:p-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"KYC Submissions"}),e.jsxs("label",{className:"text-xs text-slate-300",children:[e.jsx("span",{className:"mr-2 uppercase tracking-wide text-slate-500",children:"Filter"}),e.jsx("select",{value:x,onChange:t=>p(t.target.value),className:"rounded-lg border border-slate-700 bg-slate-950 px-2 py-1.5 text-xs text-slate-100 outline-none",children:g.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]})]}),n.length===0?e.jsx("div",{className:"mt-4 rounded-xl border border-slate-800 bg-slate-950/60 px-4 py-6 text-sm text-slate-400",children:"No KYC submissions found."}):e.jsx("div",{className:"mt-4 overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"text-xs uppercase tracking-wide text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"pb-3 pr-3",children:"User"}),e.jsx("th",{className:"pb-3 pr-3",children:"Document"}),e.jsx("th",{className:"pb-3 pr-3",children:"Location"}),e.jsx("th",{className:"pb-3 pr-3",children:"Status"}),e.jsx("th",{className:"pb-3 pr-3",children:"Submitted"}),e.jsx("th",{className:"pb-3",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800 text-slate-300",children:n.map(t=>e.jsxs("tr",{className:"transition hover:bg-slate-800/30",children:[e.jsxs("td",{className:"py-3 pr-3",children:[e.jsx("p",{className:"font-medium text-slate-100",children:t.user_name||"Unknown user"}),e.jsx("p",{className:"text-xs text-slate-500",children:t.user_email||"-"})]}),e.jsx("td",{className:"py-3 pr-3",children:f(t.document_type)}),e.jsxs("td",{className:"py-3 pr-3",children:[t.city,", ",t.country]}),e.jsx("td",{className:"py-3 pr-3",children:e.jsx(y,{value:t.status})}),e.jsx("td",{className:"py-3 pr-3 text-xs text-slate-400",children:N(t.submitted_at)}),e.jsx("td",{className:"py-3",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("a",{href:t.document_url,target:"_blank",rel:"noreferrer",className:"rounded-lg border border-cyan-500/50 px-2.5 py-1 text-xs font-semibold text-cyan-200 hover:bg-cyan-500/10",children:"View Doc"}),e.jsx("button",{type:"button",onClick:()=>i(t),disabled:!t.can_approve,className:"rounded-lg border border-emerald-500/50 px-2.5 py-1 text-xs font-semibold text-emerald-200 hover:bg-emerald-500/10 disabled:cursor-not-allowed disabled:opacity-50",children:"Approve"}),e.jsx("button",{type:"button",onClick:()=>m(t),disabled:!t.can_decline,className:"rounded-lg border border-rose-500/50 px-2.5 py-1 text-xs font-semibold text-rose-200 hover:bg-rose-500/10 disabled:cursor-not-allowed disabled:opacity-50",children:"Decline"})]})})]},t.id))})]})}),e.jsx(w,{links:o,className:"mt-5"})]})]})}function s({label:r,value:l}){return e.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-900/70 p-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-500",children:r}),e.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-100",children:l})]})}function y({value:r}){const l=r==="approved"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":r==="rejected"?"border-rose-500/40 bg-rose-500/10 text-rose-200":"border-amber-500/40 bg-amber-500/10 text-amber-200";return e.jsx("span",{className:`rounded-full border px-2 py-1 text-xs uppercase ${l}`,children:r})}function w({links:r,className:l}){return!r||r.length===0?null:e.jsx("div",{className:`${l} flex flex-wrap gap-2`,children:r.map(a=>e.jsx(h,{href:a.url||"#",preserveState:!0,preserveScroll:!0,className:`rounded-lg border px-3 py-1.5 text-xs transition ${a.active?"border-cyan-400 bg-cyan-500/20 text-cyan-100":a.url?"border-slate-700 text-slate-300 hover:border-cyan-500/40":"cursor-not-allowed border-slate-800 text-slate-600"}`,dangerouslySetInnerHTML:{__html:a.label}},a.label))})}export{L as default};
