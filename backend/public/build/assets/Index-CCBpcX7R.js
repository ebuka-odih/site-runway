import{a as C,b as l,j as e,L as i,r as T}from"./app-DFxQHMpr.js";import{A as F}from"./AdminLayout-90YmbvVs.js";import{a as n}from"./adminPath-BxB_o4uP.js";/* empty css            */const d=t=>`${Number(t||0).toFixed(2)}%`,b=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(t||0)),y=t=>t?new Date(t).toLocaleString():"-";function E({traders:t,filters:a,stats:r}){const{url:c}=C(),v=n(c,"copy-traders"),[o,f]=l.useState(a.search||""),[p,g]=l.useState(a.status||"all"),[m,w]=l.useState(a.verification||"all"),h=l.useRef(!1),u=Array.isArray(t?.data)?t.data:[],j=Array.isArray(t?.links)?t.links:[],S=(s,_,A)=>{T.get(v,{search:s,status:_,verification:A,page:1},{preserveState:!1,replace:!0,preserveScroll:!0})};return l.useEffect(()=>{if(!h.current){h.current=!0;return}const s=window.setTimeout(()=>{S(o,p,m)},350);return()=>window.clearTimeout(s)},[o,p,m]),e.jsxs(F,{title:"Copy Traders",children:[e.jsxs("section",{className:"grid gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[e.jsx(x,{label:"Total Traders",value:r.total}),e.jsx(x,{label:"Active",value:r.active}),e.jsx(x,{label:"Inactive",value:r.inactive}),e.jsx(x,{label:"Verified",value:r.verified})]}),e.jsxs("section",{className:"mt-6 rounded-2xl border border-slate-800 bg-slate-900/70 p-4 sm:p-5",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Manage Copy Traders"}),e.jsx(i,{href:n(c,"copy-traders/create"),className:"rounded-xl border border-cyan-500/40 bg-cyan-500/10 px-4 py-2 text-xs font-semibold text-cyan-100 transition hover:border-cyan-400 hover:bg-cyan-500/20",children:"Add Copy Trader"})]}),e.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[e.jsx("input",{type:"text",value:o,onChange:s=>f(s.target.value),placeholder:"Search by name, username, or strategy",className:"rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400 md:col-span-3"}),e.jsx("select",{value:p,onChange:s=>g(s.target.value),className:"rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",children:["all","active","inactive"].map(s=>e.jsx("option",{value:s,children:s==="all"?"All Statuses":s},s))}),e.jsx("select",{value:m,onChange:s=>w(s.target.value),className:"rounded-xl border border-slate-700 bg-slate-950 px-3 py-2.5 text-sm text-slate-100 outline-none transition focus:border-cyan-400",children:["all","verified","unverified"].map(s=>e.jsx("option",{value:s,children:s==="all"?"All Verification":s},s))})]}),e.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Filters apply automatically as you type."}),e.jsx("div",{className:"mt-5 space-y-3 md:hidden",children:u.map(s=>e.jsxs("article",{className:"rounded-xl border border-slate-800 bg-slate-950/70 p-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-100",children:s.display_name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["@",s.username]})]}),e.jsx(N,{value:s.is_active?"active":"inactive"})]}),e.jsxs("dl",{className:"mt-3 space-y-1 text-xs text-slate-400",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Strategy"}),e.jsx("dd",{className:"text-slate-200",children:s.strategy})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Copy Fee"}),e.jsx("dd",{className:"text-slate-200",children:b(s.copy_fee)})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Return"}),e.jsx("dd",{className:"text-slate-200",children:d(s.total_return)})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Win Rate"}),e.jsx("dd",{className:"text-slate-200",children:d(s.win_rate)})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Copiers"}),e.jsx("dd",{className:"text-slate-200",children:s.copiers_count})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("dt",{children:"Joined"}),e.jsx("dd",{className:"text-slate-300",children:y(s.joined_at)})]})]}),e.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:e.jsx(i,{href:n(c,`copy-traders/${s.id}/edit`),className:"rounded-lg border border-slate-600 px-2.5 py-1 text-xs text-slate-200 transition hover:border-cyan-400 hover:text-cyan-200",children:"Edit"})})]},s.id))}),e.jsx("div",{className:"mt-5 hidden overflow-x-auto md:block",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"text-xs uppercase tracking-wide text-slate-400",children:e.jsxs("tr",{children:[e.jsx("th",{className:"pb-3 pr-3",children:"Trader"}),e.jsx("th",{className:"pb-3 pr-3",children:"Strategy"}),e.jsx("th",{className:"pb-3 pr-3",children:"Copy Fee"}),e.jsx("th",{className:"pb-3 pr-3",children:"Return"}),e.jsx("th",{className:"pb-3 pr-3",children:"Win Rate"}),e.jsx("th",{className:"pb-3 pr-3",children:"Copiers"}),e.jsx("th",{className:"pb-3 pr-3",children:"Risk"}),e.jsx("th",{className:"pb-3 pr-3",children:"Status"}),e.jsx("th",{className:"pb-3 pr-3",children:"Joined"}),e.jsx("th",{className:"pb-3",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-800 text-slate-300",children:u.map(s=>e.jsxs("tr",{className:"transition hover:bg-slate-800/30",children:[e.jsxs("td",{className:"py-3 pr-3",children:[e.jsx("p",{className:"font-medium text-slate-100",children:s.display_name}),e.jsxs("p",{className:"text-xs text-slate-500",children:["@",s.username]})]}),e.jsx("td",{className:"py-3 pr-3",children:s.strategy}),e.jsx("td",{className:"py-3 pr-3",children:b(s.copy_fee)}),e.jsx("td",{className:"py-3 pr-3",children:d(s.total_return)}),e.jsx("td",{className:"py-3 pr-3",children:d(s.win_rate)}),e.jsx("td",{className:"py-3 pr-3",children:s.copiers_count}),e.jsx("td",{className:"py-3 pr-3",children:s.risk_score}),e.jsx("td",{className:"py-3 pr-3",children:e.jsx(N,{value:s.is_active?"active":"inactive"})}),e.jsx("td",{className:"py-3 pr-3 text-xs text-slate-400",children:y(s.joined_at)}),e.jsx("td",{className:"py-3",children:e.jsx(i,{href:n(c,`copy-traders/${s.id}/edit`),className:"rounded-lg border border-slate-600 px-2.5 py-1 text-xs text-slate-200 transition hover:border-cyan-400 hover:text-cyan-200",children:"Edit"})})]},s.id))})]})}),j.length>0&&e.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:j.map(s=>e.jsx(i,{href:s.url||"",preserveScroll:!0,className:`rounded-lg border px-3 py-1 text-xs ${s.active?"border-cyan-500/60 bg-cyan-500/20 text-cyan-100":"border-slate-700 text-slate-300 hover:border-slate-500"} ${s.url?"":"pointer-events-none opacity-50"}`,dangerouslySetInnerHTML:{__html:s.label}},s.label))})]})]})}function x({label:t,value:a}){return e.jsxs("article",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:t}),e.jsx("p",{className:"mt-2 text-2xl font-semibold text-slate-100",children:a})]})}function N({value:t}){const a=t==="active"?"active":"inactive";return e.jsx("span",{className:`rounded-full border px-2 py-1 text-[10px] uppercase ${a==="active"?"border-emerald-500/40 bg-emerald-500/10 text-emerald-200":"border-slate-700 text-slate-300"}`,children:a})}export{E as default};
